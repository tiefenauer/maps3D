
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
 Copyright 2010 Google Inc. 
 Licensed under the Apache License, Version 2.0: 
 http://www.apache.org/licenses/LICENSE-2.0 
 Originalcode: http://gmaps-samples-v3.googlecode.com/svn/trunk/elevation/elevation-profile.html

 Adapted 2010 by Ernst Basler + Partner AG. 
 Changes done under under the Apache License, Version 2.0: 
 http://www.apache.org/licenses/LICENSE-2.0 
 -->
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Höhenprofile auf Basis von Google Maps, entwickelt von Ernst Basler + Partner AG</title>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
/*! URI.js v1.7.1 http://medialize.github.com/URI.js/ */
/* build contains: URI.js */
(function(g){function j(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(a){return"[object Array]"===String(Object.prototype.toString.call(a))}function p(a){return encodeURIComponent(a).replace(/[!'()*]/g,escape)}var d="undefined"!==typeof module&&module.exports,o=d?require("./punycode"):window.punycode,q=d?require("./IPv6"):window.IPv6,n=d?require("./SecondLevelDomains"):window.SecondLevelDomains,e=function(a,b){if(!(this instanceof e))return new e(a,b);a===g&&(a=location.href+
"");this.href(a);return b!==g?this.absoluteTo(b):this},d=e.prototype;e.idn_expression=/[^a-z0-9\.-]/i;e.punycode_expression=/(xn--)/i;e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;e.defaultPorts={http:"80",https:"443",ftp:"21"};e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;e.encode=p;e.decode=decodeURIComponent;e.iso8859=function(){e.encode=escape;e.decode=unescape};e.unicode=function(){e.encode=p;e.decode=decodeURIComponent};
e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};
e.encodeQuery=function(a){return e.encode(a+"").replace(/%20/g,"+")};e.decodeQuery=function(a){return e.decode((a+"").replace(/\+/g,"%20"))};e.recodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.encodePathSegment(e.decode(a[b]));return a.join("/")};e.decodePath=function(a){for(var a=(a+"").split("/"),b=0,c=a.length;b<c;b++)a[b]=e.decodePathSegment(a[b]);return a.join("/")};var i={encode:"encode",decode:"decode"},h,m=function(a,b){return function(c){return e[b](c+"").replace(e.characters[a][b].expression,
function(c){return e.characters[a][b].map[c]})}};for(h in i)e[h+"PathSegment"]=m("pathname",i[h]);e.encodeReserved=m("reserved","encode");e.parse=function(a){var b,c={};b=a.indexOf("#");-1<b&&(c.fragment=a.substring(b+1)||null,a=a.substring(0,b));b=a.indexOf("?");-1<b&&(c.query=a.substring(b+1)||null,a=a.substring(0,b));"//"===a.substring(0,2)?(c.protocol="",a=a.substring(2),a=e.parseAuthority(a,c)):(b=a.indexOf(":"),-1<b&&(c.protocol=a.substring(0,b),"//"===a.substring(b+1,b+3)?(a=a.substring(b+
3),a=e.parseAuthority(a,c)):(a=a.substring(b+1),c.urn=!0)));c.path=a;return c};e.parseHost=function(a,b){var c=a.indexOf("/"),f;-1===c&&(c=a.length);"["===a[0]?(f=a.indexOf("]"),b.hostname=a.substring(1,f)||null,b.port=a.substring(f+2,c)||null):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(f=a.substring(0,c).split(":"),b.hostname=f[0]||null,b.port=f[1]||null);b.hostname&&"/"!==a.substring(c)[0]&&(c++,a="/"+a);return a.substring(c)||"/"};e.parseAuthority=function(a,
b){a=e.parseUserinfo(a,b);return e.parseHost(a,b)};e.parseUserinfo=function(a,b){var c=a.indexOf("@"),f=a.indexOf("/");-1<c&&(-1===f||c<f)?(f=a.substring(0,c).split(":"),b.username=f[0]?e.decode(f[0]):null,b.password=f[1]?e.decode(f[1]):null,a=a.substring(c+1)):(b.username=null,b.password=null);return a};e.parseQuery=function(a){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!a)return{};for(var b={},a=a.split("&"),c=a.length,f=0;f<c;f++){var k=a[f].split("="),d=e.decodeQuery(k.shift()),
k=k.length?e.decodeQuery(k.join("=")):null;b[d]?("string"===typeof b[d]&&(b[d]=[b[d]]),b[d].push(k)):b[d]=k}return b};e.build=function(a){var b="";a.protocol&&(b+=a.protocol+":");if(!a.urn&&(b||a.hostname))b+="//";b+=e.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path[0]&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&(b+="#"+a.fragment);return b};e.buildHost=function(a){var b="";if(a.hostname)e.ip6_expression.test(a.hostname)?
b=a.port?b+("["+a.hostname+"]:"+a.port):b+a.hostname:(b+=a.hostname,a.port&&(b+=":"+a.port));else return"";return b};e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)};e.buildUserinfo=function(a){var b="";a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@");return b};e.buildQuery=function(a,b){var c="",f;for(f in a)if(Object.hasOwnProperty.call(a,f)&&f)if(l(a[f]))for(var k={},d=0,h=a[f].length;d<h;d++)a[f][d]!==g&&k[a[f][d]+""]===g&&(c+="&"+e.buildQueryParameter(f,
a[f][d]),!0!==b&&(k[a[f][d]+""]=!0));else a[f]!==g&&(c+="&"+e.buildQueryParameter(f,a[f]));return c.substring(1)};e.buildQueryParameter=function(a,b){return e.encodeQuery(a)+(null!==b?"="+e.encodeQuery(b):"")};e.addQuery=function(a,b,c){if("object"===typeof b)for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&e.addQuery(a,f,b[f]);else if("string"===typeof b)a[b]===g?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),l(c)||(c=[c]),a[b]=a[b].concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
};e.removeQuery=function(a,b,c){if(l(b))for(var c=0,f=b.length;c<f;c++)a[b[c]]=g;else if("object"===typeof b)for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&e.removeQuery(a,f,b[f]);else if("string"===typeof b)if(c!==g)if(a[b]===c)a[b]=g;else{if(l(a[b])){var f=a[b],k={},d,h;if(l(c)){d=0;for(h=c.length;d<h;d++)k[c[d]]=!0}else k[c]=!0;d=0;for(h=f.length;d<h;d++)k[f[d]]!==g&&(f.splice(d,1),h--,d--);a[b]=f}}else a[b]=g;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");
};e.commonPath=function(a,b){var c=Math.min(a.length,b.length),f;for(f=0;f<c;f++)if(a[f]!==b[f]){f--;break}if(1>f)return a[0]===b[0]&&"/"===a[0]?"/":"";"/"!==a[f]&&(f=a.substring(0,f).lastIndexOf("/"));return a.substring(0,f+1)};e.withinString=function(a,b){return a.replace(e.find_uri_expression,b)};e.ensureValidHostname=function(a){if(a.match(e.invalid_hostname_characters)){if(!o)throw new TypeError("Hostname '"+a+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(o.toASCII(a).match(e.invalid_hostname_characters))throw new TypeError("Hostname '"+
a+"' contains characters other than [A-Z0-9.-]");}};d.build=function(a){if(!0===a)this._deferred_build=!0;else if(a===g||this._deferred_build)this._string=e.build(this._parts),this._deferred_build=!1;return this};d.clone=function(){return new e(this)};d.toString=function(){return this.build(!1)._string};d.valueOf=function(){return this.toString()};i={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};m=function(a){return function(b,c){if(b===g)return this._parts[a]||
"";this._parts[a]=b;this.build(!c);return this}};for(h in i)d[h]=m(i[h]);i={query:"?",fragment:"#"};m=function(a,b){return function(c,f){if(c===g)return this._parts[a]||"";null!==c&&(c+="",c[0]===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!f);return this}};for(h in i)d[h]=m(h,i[h]);i={search:["?","query"],hash:["#","fragment"]};m=function(a,b){return function(c,f){var e=this[a](c,f);return"string"===typeof e&&e.length?b+e:e}};for(h in i)d[h]=m(i[h][1],i[h][0]);d.pathname=function(a,b){if(a===
g||!0===a){var c=this._parts.path||(this._parts.urn?"":"/");return a?e.decodePath(c):c}this._parts.path=a?e.recodePath(a):"/";this.build(!b);return this};d.path=d.pathname;d.href=function(a,b){if(a===g)return this.toString();this._string="";this._parts={protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null};var c=a instanceof e,f="object"===typeof a&&(a.hostname||a.path),d;if("string"===typeof a)this._parts=e.parse(a);else if(c||f)for(d in c=
c?a._parts:a,c)Object.hasOwnProperty.call(this._parts,d)&&(this._parts[d]=c[d]);else throw new TypeError("invalid input");this.build(!b);return this};d.is=function(a){var b=!1,c=!1,f=!1,d=!1,g=!1,h=!1,i=!1,j=!this._parts.urn;this._parts.hostname&&(j=!1,c=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=c||f,g=(d=!b)&&n&&n.has(this._parts.hostname),h=d&&e.idn_expression.test(this._parts.hostname),i=d&&e.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return j;
case "absolute":return!j;case "domain":case "name":return d;case "sld":return g;case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return f;case "idn":return h;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return i}return null};var s=d.protocol,t=d.port,u=d.hostname;d.protocol=function(a,b){if(a!==g&&a&&(a=a.replace(/:(\/\/)?$/,""),a.match(/[^a-zA-z0-9\.+-]/)))throw new TypeError("Protocol '"+a+"' contains characters other than [A-Z0-9.+-]");
return s.call(this,a,b)};d.scheme=d.protocol;d.port=function(a,b){if(this._parts.urn)return a===g?"":this;if(a!==g&&(0===a&&(a=null),a&&(a+="",":"===a[0]&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError("Port '"+a+"' contains characters other than [0-9]");return t.call(this,a,b)};d.hostname=function(a,b){if(this._parts.urn)return a===g?"":this;if(a!==g){var c={};e.parseHost(a,c);a=c.hostname}return u.call(this,a,b)};d.host=function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g)return this._parts.hostname?
e.buildHost(this._parts):"";e.parseHost(a,this._parts);this.build(!b);return this};d.authority=function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g)return this._parts.hostname?e.buildAuthority(this._parts):"";e.parseAuthority(a,this._parts);this.build(!b);return this};d.userinfo=function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}"@"!==a[a.length-1]&&(a+="@");e.parseUserinfo(a,
this._parts);this.build(!b);return this};d.subdomain=function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,c);c=RegExp("^"+j(c));a&&"."!==a[a.length-1]&&(a+=".");a&&e.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,a);this.build(!b);
return this};d.domain=function(a,b){if(this._parts.urn)return a===g?"":this;"boolean"===typeof a&&(b=a,a=g);if(a===g){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&2>c.length)return this._parts.hostname;c=this._parts.hostname.length-this.tld(b).length-1;c=this._parts.hostname.lastIndexOf(".",c-1)+1;return this._parts.hostname.substring(c)||""}if(!a)throw new TypeError("cannot set domain empty");e.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?
this._parts.hostname=a:(c=RegExp(j(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(c,a));this.build(!b);return this};d.tld=function(a,b){if(this._parts.urn)return a===g?"":this;"boolean"===typeof a&&(b=a,a=g);if(a===g){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.lastIndexOf("."),c=this._parts.hostname.substring(c+1);return!0!==b&&n&&n.list[c.toLowerCase()]?n.get(this._parts.hostname)||c:c}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(n&&n.is(a))c=RegExp(j(this.tld())+
"$"),this._parts.hostname=this._parts.hostname.replace(c,a);else throw new TypeError("TLD '"+a+"' contains characters other than [A-Z0-9]");else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=RegExp(j(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};d.directory=function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g||!0===a){if(!this._parts.path&&
!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,c=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=RegExp("^"+j(c));this.is("relative")||(a||(a="/"),"/"!==a[0]&&(a="/"+a));a&&"/"!==a[a.length-1]&&(a+="/");a=e.recodePath(a);this._parts.path=this._parts.path.replace(c,a);this.build(!b);return this};d.filename=
function(a,b){if(this._parts.urn)return a===g?"":this;if(a===g||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),c=this._parts.path.substring(c+1);return a?e.decodePathSegment(c):c}c=!1;"/"===a[0]&&(a=a.substring(1));a.match(/\.?\//)&&(c=!0);var f=RegExp(j(this.filename())+"$"),a=e.recodePath(a);this._parts.path=this._parts.path.replace(f,a);c?this.normalizePath(b):this.build(!b);return this};d.suffix=function(a,b){if(this._parts.urn)return a===
g?"":this;if(a===g||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this.filename(),f=c.lastIndexOf(".");if(-1===f)return"";c=c.substring(f+1);c=/^[a-z0-9%]+$/i.test(c)?c:"";return a?e.decodePathSegment(c):c}"."===a[0]&&(a=a.substring(1));if(c=this.suffix())f=a?RegExp(j(c)+"$"):RegExp(j("."+c)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}f&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(f,a));this.build(!b);return this};d.segment=function(a,b,
c){var e=this._parts.urn?":":"/",d=this.path(),r="/"===d.substring(0,1),d=d.split(e);"number"!==typeof a&&(c=b,b=a,a=g);if(a!==g&&"number"!==typeof a)throw Error("Bad segment '"+a+"', must be 0-based integer");r&&d.shift();0>a&&(a=Math.max(d.length+a,0));if(b===g)return a===g?d:d[a];if(null===a||d[a]===g)if(l(b))d=b;else{if(b||"string"===typeof b&&b.length)""===d[d.length-1]?d[d.length-1]=b:d.push(b)}else b||"string"===typeof b&&b.length?d[a]=b:d.splice(a,1);r&&d.unshift("");return this.path(d.join(e),
c)};var v=d.query;d.query=function(a,b){return!0===a?e.parseQuery(this._parts.query):a!==g&&"string"!==typeof a?(this._parts.query=e.buildQuery(a),this.build(!b),this):v.call(this,a,b)};d.addQuery=function(a,b,c){var f=e.parseQuery(this._parts.query);e.addQuery(f,a,b);this._parts.query=e.buildQuery(f);"string"!==typeof a&&(c=b);this.build(!c);return this};d.removeQuery=function(a,b,c){var f=e.parseQuery(this._parts.query);e.removeQuery(f,a,b);this._parts.query=e.buildQuery(f);"string"!==typeof a&&
(c=b);this.build(!c);return this};d.addSearch=d.addQuery;d.removeSearch=d.removeQuery;d.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};d.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};
d.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&o?this._parts.hostname=o.toASCII(this._parts.hostname):this.is("IPv6")&&q&&(this._parts.hostname=q.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};d.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};d.normalizePath=function(a){if(this._parts.urn||
!this._parts.path||"/"===this._parts.path)return this;var b,c,f=this._parts.path,d,g;"/"!==f[0]&&("."===f[0]&&(c=f.substring(0,f.indexOf("/"))),b=!0,f="/"+f);for(f=f.replace(/(\/(\.\/)+)|\/{2,}/g,"/");;){d=f.indexOf("/../");if(-1===d)break;else if(0===d){f=f.substring(3);break}g=f.substring(0,d).lastIndexOf("/");-1===g&&(g=d);f=f.substring(0,g)+f.substring(d+3)}b&&this.is("relative")&&(f=c?c+f:f.substring(1));f=e.recodePath(f);this._parts.path=f;this.build(!a);return this};d.normalizePathname=d.normalizePath;
d.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query)):this._parts.query=null,this.build(!a));return this};d.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};d.normalizeSearch=d.normalizeQuery;d.normalizeHash=d.normalizeFragment;d.iso8859=function(){var a=e.encode,b=e.decode;e.encode=escape;e.decode=decodeURIComponent;this.normalize();e.encode=a;e.decode=b;return this};
d.unicode=function(){var a=e.encode,b=e.decode;e.encode=p;e.decode=unescape;this.normalize();e.encode=a;e.decode=b;return this};d.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&o?(b+=o.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());a._parts.hostname&&(a._parts.path&&"/"!==a._parts.path[0])&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c=
"",f=0,d=a._parts.query.split("&"),h=d.length;f<h;f++){var i=(d[f]||"").split("="),c=c+("&"+e.decodeQuery(i[0]).replace(/&/g,"%26"));i[1]!==g&&(c+="="+e.decodeQuery(i[1]).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=a.hash()};d.absoluteTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierachical components");if(this._parts.hostname)return b;a instanceof e||(a=new e(a));for(var f=
0,d;d=c[f];f++)b._parts[d]=a._parts[d];"/"!==b.path()[0]&&(a=a.directory(),b._parts.path=(a?a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};d.relativeTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"],f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierachical components");a instanceof e||(a=new e(a));if("/"!==this.path()[0]||"/"!==a.path()[0])throw Error("Cannot calculate common path from non-relative URLs");f=e.commonPath(b.path(),
a.path());for(var a=a.directory(),d=0,g;g=c[d];d++)b._parts[g]=null;if(!f||"/"===f)return b;if(a+"/"===f)b._parts.path="./"+b.filename();else{c="../";f=RegExp("^"+j(f));for(a=a.replace(f,"/").match(/\//g).length-1;a--;)c+="../";b._parts.path=b._parts.path.replace(f,c)}b.build();return b};d.equals=function(a){var b=this.clone(),c=new e(a),f={},d={},a={},g;b.normalize();c.normalize();if(b.toString()===c.toString())return!0;f=b.query();d=c.query();b.query("");c.query("");if(b.toString()!==c.toString()||
f.length!==d.length)return!1;f=e.parseQuery(f);d=e.parseQuery(d);for(g in f)if(Object.prototype.hasOwnProperty.call(f,g)){if(l(f[g])){if(!l(d[g])||f[g].length!==d[g].length)return!1;f[g].sort();d[g].sort();b=0;for(c=f[g].length;b<c;b++)if(f[g][b]!==d[g][b])return!1}else if(f[g]!==d[g])return!1;a[g]=!0}for(g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&!a[g])return!1;return!0};"undefined"!==typeof module&&module.exports?module.exports=e:window.URI=e})();
</script>
<script type="text/javascript">
  var map = null;
  var chart = null;
  var directionsDisplay = null;
  var geocoderService = null;
  var elevationService = null;
  var directionsService = null;
  var uriContent = null;

  var mousemarker = null;
  var markers = [];
  var polyline = null;
  var elevations = null;
  
  var SAMPLES = 512;

  // adding ability to measure euclidean distance of polylines
  google.maps.LatLng.prototype.kmTo = function(a){
      var e = Math, ra = e.PI/180;
      var b = this.lat() * ra, c = a.lat() * ra, d = b - c;
      var g = this.lng() * ra - a.lng() * ra;
      var f = 2 * e.asin(e.sqrt(e.pow(e.sin(d/2), 2) + e.cos(b) * e.cos
								(c) * e.pow(e.sin(g/2), 2)));
      return f * 6378.137;
  } 
  google.maps.Polyline.prototype.inKm = function(n){
    var a = this.getPath(n), len = a.getLength(), dist = 0;
    for(var i=0; i<len-1; i++){
      dist += a.getAt(i).kmTo(a.getAt(i+1));
    }
    return dist;
  } 

  var default_path = {
    // Zürich Bern
    latlngs: [
		[47.374, 8.530],
		[46.949,7.443]
    ],
    mapType: google.maps.MapTypeId.ROADMAP,
    travelMode: 'direct'
  };

  // Load the Visualization API and the piechart package.
  google.load("visualization", "1", {packages: ["corechart"]});
  
  // Set a callback to run when the Google Visualization API is loaded.
  google.setOnLoadCallback(initialize);
  
  function initialize() {
    directionsDisplay = new google.maps.DirectionsRenderer({draggable: true, 
			                                    preserveViewport: true,
			                                     suppressBicyclingLayer: true});
			  var myLatlng = new google.maps.LatLng(47.374, 8.530);
    var myOptions = {
      zoom: 1,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.TERRAIN
    }

    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
    
    geocoderService = new google.maps.Geocoder();
    elevationService = new google.maps.ElevationService();
    directionsService = new google.maps.DirectionsService();
    directionsDisplay.setMap(map);    

    google.maps.event.addListener(directionsDisplay, 'directions_changed', function() {
			  console.log("Directions changed");
			  var route = directionsDisplay.getDirections().routes[0];
			  markers =  [ ];
			  addMarker(route.legs[0].start_location, false, false);
			  for(var i in route.legs) {
			    addMarker(route.legs[i].end_location, false, false);
			  }
			  var response = directionsDisplay.getDirections();
			  elevationService.getElevationAlongPath({
			     path: route.overview_path,
			     samples: SAMPLES
			  }, plotElevation);
			  });

    google.maps.event.addListener(map, 'click', function(event) {
      addMarker(event.latLng, true, true);
    });
    
    google.visualization.events.addListener(chart, 'onmouseover', function(e) {
      if (mousemarker == null) {
        mousemarker = new google.maps.Marker({
          position: elevations[e.row].location,
          map: map,
          icon: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
        });
      } else {
        mousemarker.setPosition(elevations[e.row].location);
      }
    });


    loadPath();
  }
  

  function createPermalink() {
    var latlngs_string = "[";
    for (var i in markers) {
        latlngs_string += "[" + markers[i].getPosition().lat() + "," + markers[i].getPosition().lng() + "],"
    }
    latlngs_string += "]";
    
    var uri = new URI();
    uri.search("latlngs=" + latlngs_string + "&travelMode=" + document.getElementById("mode").value);
    location.href = uri;			  
  }

  // Takes an array of ElevationResult objects, draws the path on the map
  // and plots the elevation profile on a GViz ColumnChart
  function plotElevation(results) {

    elevations = results;

    var path = [];

    if (!results) {
      // sometimes we don't get any results. Then we do something bad.. wait a while
      console.log("sleep for a second");
      document.getElementById("loading").style.display="block";
      setTimeout(function() {      updateElevation();  }, 1000);
      return false;
    }
    document.getElementById("loading").style.display="none";

    for (var i = 0; i < results.length; i++) {
      path.push(elevations[i].location);
			}
    
    if (polyline) {
      polyline.setMap(null);
    }
    
    var polymap = null;
    var travelMode =  document.getElementById("mode").value;
    if (travelMode == 'direct') {
      polymap = map;
    }

    polyline = new google.maps.Polyline({
      path: path,
      strokeColor: "#000000",
      map: polymap
			});
    var totalLength = Math.floor(polyline.inKm()*10)/10;
    if (totalLength < 1) {
		      totalLength = Math.floor(polyline.inKm()*1000)/1000;
    }

    var csv_content = "distance_km, height_m, lat, lng\n";
    var data = new google.visualization.DataTable();
      data.addColumn('number', 'Distance');
      data.addColumn('number', 'Elevation');
      data.addColumn({type: 'string', role: 'tooltip'});

      for (var i = 0; i < results.length; i++) {
	x = Math.round(1000*totalLength * i/SAMPLES)/1000;
        y = Math.round(elevations[i].elevation*10)/10;
		  data.addRow([x,y, y + " Meter Höhe bei Kilometer " + Math.round(x*100)/100]);
	          csv_content += x + ", " + y + ", " + path[i].lat() + ", " + path[i].lng() + "\n";
      }
	  
      document.getElementById('chart_div').style.display = 'block';
      document.getElementById('export_link').style.display = 'block';
      document.getElementById('permalink').style.display = 'block';

      chart.draw(data, {
		  //      width: 512,
		  height: 300,
		  legend: 'none',
		  titleY: 'Höhe (m)',
		  titleX: 'Distanz (km), Total: ' + totalLength + ' [km]',
		  pointSize: 2,
		  focusBorderColor: '#00ff00'
      });
      uriContent = "data:text/plain," + encodeURIComponent(csv_content);
      document.getElementById('export_link').href = uriContent;
			 
  }
  
  // Remove the green rollover marker when the mouse leaves the chart
  function clearMouseMarker() {
    if (mousemarker != null) {
      mousemarker.setMap(null);
      mousemarker = null;
    }
  }
  
  // Geocode an address and add a marker for the result
  function addAddress() {
    var address = document.getElementById('address').value;
    geocoderService.geocode({ 'address': address }, function(results, status) {
      document.getElementById('address').value = "";
      if (status == google.maps.GeocoderStatus.OK) {
        var latlng = results[0].geometry.location;
        addMarker(latlng, true, true);
        if (markers.length > 1) {
          var bounds = new google.maps.LatLngBounds();
          for (var i in markers) {
            bounds.extend(markers[i].getPosition());
          }
          map.fitBounds(bounds);
        } else {
          map.fitBounds(results[0].geometry.viewport);
        }
      } else if (status == google.maps.GeocoderStatus.ZERO_RESULTS) {
        alert("Addresse nicht gefunden.");
      } else {
        alert("Addressensuche gescheitert.");
      }
    })
  }
  
  // Add a marker and trigger recalculation of the path and elevation
  function addMarker(latlng, doQuery, showOnMap) {
    if (markers.length < 10) {
      
      var marker = new google.maps.Marker({
			 position: latlng,
        draggable: true
      })

      markers.push(marker);
      
      google.maps.event.addListener(marker, 'dragend', function(e) {
        updateElevation();
      });
      
      
      if (doQuery) {
        updateElevation();
      }

      if (showOnMap) {
         marker.setMap(map);
      }
			 
      if (markers.length == 10) {
        document.getElementById('address').disabled = true;
      }
    } else {
      alert("Es können nicht mehr als 10 Punkte eingegeben werden.");
    }
  }
  
  function clearPaths() {
    if (polyline) {
      polyline.setMap(null);
    }
    
    directionsDisplay.setMap(null);

    for (var i in markers) {
      markers[i].setMap(null);
    }
  }

  // Trigger the elevation query for point to point
  // or submit a directions request for the path between points
  function updateElevation() {
     clearPaths();
     if (markers.length > 1) {
      var travelMode =  document.getElementById("mode").value;
      if (travelMode != 'direct') {
        calcRoute(travelMode);
      } else {
        var latlngs = [];
        for (var i in markers) {
          markers[i].setMap(map);
          latlngs.push(markers[i].getPosition())
        }
        elevationService.getElevationAlongPath({
          path: latlngs,
          samples: SAMPLES
        }, plotElevation);
      }
    }
  }
  
  // Submit a directions request for the path between points and an
  // elevation request for the path once returned
  function calcRoute(travelMode) {
    var origin = markers[0].getPosition();
    var destination = markers[markers.length - 1].getPosition();
    
    var waypoints = [];
    for (var i = 1; i < markers.length - 1; i++) {
      waypoints.push({
        location: markers[i].getPosition(),
        stopover: true
      });
    }
    
    var request = {
      origin: origin,
      destination: destination,
      waypoints: waypoints
    };

    switch (travelMode) {
      case "bicycling":
        request.travelMode = google.maps.DirectionsTravelMode.BICYCLING;
        break;
      case "driving":
        request.travelMode = google.maps.DirectionsTravelMode.DRIVING;
        break;
      case "walking":
        request.travelMode = google.maps.DirectionsTravelMode.WALKING;
        break;
    }
    
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        clearPaths();
	directionsDisplay.setMap(map);
	directionsDisplay.setDirections(response);
      } else if (status == google.maps.DirectionsStatus.ZERO_RESULTS) {
        alert("Could not find a route between these points");
      } else {
        alert("Directions request failed");
      }
    });
  }

  // Trigger a geocode request when the Return key is
  // pressed in the address field
  function addressKeyHandler(e) {
    var keycode;
    if (window.event) {
      keycode = window.event.keyCode;
    } else if (e) {
      keycode = e.which;
    } else {
      return true;
    }
    
    if (keycode == 13) {
       addAddress();
       return false;
    } else {
       return true;
    }
  }
  
  function loadPath() {
    reset();
    
    var my_path = default_path;

    // parse URI
    var uri = new URI;
    var params = URI.parseQuery(uri.query());
    if (params.latlngs){
       my_path.latlngs = eval(params.latlngs);
    }			
    if (params.travelMode){
       my_path.travelMode = params.travelMode;
    }			
			
    map.setMapTypeId(my_path.mapType);
      document.getElementById('mode').value = my_path.travelMode;
    var bounds = new google.maps.LatLngBounds();
    for (var i = 0; i < my_path.latlngs.length; i++) {
      var latlng = new google.maps.LatLng(
        my_path.latlngs[i][0],
        my_path.latlngs[i][1]
      );
      addMarker(latlng, false, true);
      bounds.extend(latlng);
    }
    map.fitBounds(bounds);
    updateElevation();
  }
  
  // Clear all overlays, reset the array of points, and hide the chart
  function reset() {
    clearPaths();
    markers = [ ];
    document.getElementById('address').disabled = false;
    document.getElementById('chart_div').style.display = 'none';
    document.getElementById('export_link').style.display = 'none';
    document.getElementById('permalink').style.display = 'none';
	  
  }

</script>
<style>
body {
  font-family: sans-serif
}

#map_canvas {
  margin: 5px 0px 5px 0px;
}
</style>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-618318-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
  <h2 style="text-align:center;font-size:25px">Automatische Höhenprofilberechnung Version 2.0 (beta)&nbsp; &nbsp; &nbsp;<a href="http://www.ebp.ch"><img style=" border-style:none;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAAUCAMAAACAq5AJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURSsvMS4wLycxMisxMTE0MzI3ODM4NzU6Ojo8PD4/QTtAPztBQXs9HUFDQ0NIRkVLS0lNTUZQT01SVFFVVFVcWlhdXFheYV1hYWFkZWFlaGZoZ2Vqa2lsbWhscGtwbm10c3J1dXR3eHZ5eHh8fnp+gHuAfn2BgX+Ih40uA4wuCYYyBYUyC4U6Do0wA4syCo46DoQyEIU6FIw1Eos6E4w9GpItApEtCZgsAZEwApEzC5U4Dpg1CpE2EJE6E5I9Gpg3EJw6E5o9Go1BG5ZAFpRCHJ1EG4hEIJNEIZVGKZRJJZNLK5hFJJhKI5tMK5lOMZlRLJZSNZJQOJZZN5xUMptWOJ9aNZxcPJpgPqBNJ6NTLaJUMaVVOqNbNqNcO6xeNateO6lgPJ1cQJ5hQaNeQqhfR6NhQqRmSKRqS6ljRKlmSqxrS6lrUqxwTqpxVKt0W6t8XrFrTLN3WK53Yalwaq57Y7N8Y7eCX6uAZ7SCZLWEbLyHZbqEaryKbbSKcraKeruLc7yMeL2Tdb6UesCJb8CKccOSd8OUfMWef8iVfYKEhYaHiIaLi4qLi42Qj46QkZWZmJ6enp6hn76UgKKlpKSmqKapqaiqq66xsrCxs7W4uLm6usSVgMSag8WejcqahM+fismckMuijMKgkcaplsqkksyplM2qmc2yndGrltKunNmumNGxmty2mty7ns2voM6zotOuodOzo9O3qdW4pNW7qti2ptm5pNu8q9S8sNu+teCzmNbArNvBrdTDs9zDs93Eu97Ju+LFsuLGvOLJtuLKu+jQvcHFxMXKycrMzM3O0M3Qz87S0tPU1NTY19Xa2t3e3t7g4eLOw+XSxOXTy+bYzOnTw+jUy+nZxOrZzOTX0OvX0uva0fLczfHd0/Ld2+3gze3i1/Hh1PPk2vbp1/Tp3fjs3fbw3+Lk5ezj4Orq6u3y8PLl4fXr5Pbt6fnt4/ju6/jv8Pbw4/bx7Pny5frz7P/67vL09Pf59vb8+/v18v72+/z69P7+/QAAAAAAAAAAAN3ivYoAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS41SYr84AAACUBJREFUWEelV394k1cVjqSKgrgKTKZF2xU3b+i+bzbtbb9M27naPYUOhq7aSUdouhJACkonGWCZZXPW7aEOHZuw0eHQFq04B6yQTWsGIw4moEuh2FFhbSxOXNpn0gAJ9/7he+6XpE0Hlep9+iTp/XHOee97fl2L/H+GiAY7/T6fv3vgv0gRA771FVvHqkoMnOl41efr6IuO9eRo+y3X0UjFuPg/iD2RPVPTNJ7HblnsHd0sN2Ps4bFqaMuyccZseta8+r9f9awYq1TLuM89o8azYz1J+wM65wZXQx+VQ+HmXHtkrCpaIZuRcI3P7rr6YdHX/lDo2mVbLJuvfbPaefjc0IEOB+y5465CzdC47h9NkBtXM3bImmbwgkKd4fDXB68mvmtxoU0LXjsKi3WMkI+mHB6SHiB6/eFQi51p7KFRtAo3CLsmyMPjg1ie+3YwsJjUeK8m/qANq++OAbJly7Vvpp1HrMMhgwb9BGa/yVn+t2lZBP1e7/HzMZmRcEfbK28RP3DsOORQYM9rCQtFNBLt2PNewob65mHmtOJQBWI1VAIHx42eP9m+xx9MBG9URgNt0f4XNM5tne+aInFjof0vdSQuLuQfruyS7Pe1WZIgHzsUefZT1yOR/fl1efTmKVNm/Mk04OJTN3x82o/h0UcbM603NjY2xuyiWNYpyogH2BTdXl6gMa7NaVJ2hZtm2XieY/Yf5BDLfWuLNY0VPkCeGPVvXfS9rmpdO5nAWT48JbRq3CijpeWg29NfPwtxpOUsIYWi44dLv9O30p7T860CDvfPKS4dkN07PaX+50tYnqOsU0kMri1AyOV6Qvh93rvunhd9c7WsZMee1rhp/PQnAHl6xlMfzti0cUqKcvuL0yc9sWnDJNB7OCPNekNmxow4ZNhw60kp9to5t0NLXy6gUz6z1ROiB+ByMIf7ATnGcrBM5SOedw/MCOYwvnJpHr8qZJwtE4JOG9zTgfuldGaU9EJTEWf31UJrzzIzffLcs3IVrmghbpzl89IzMKDnKwzXi7Wqf0fkyzj+3WLOsyzjhsdy2mcmva7QpF838VBEyn+ljadk9cwH3yDgaiXZsfV8rtV4nIS4GcSK+/WiamchlNx6XEqfA+or7sstArpqQ6WvaA3W5q64A6bjUgZ0xhwwczSW4djigJ0brHmw1DbfOZfu1APvLdIY7psVBGvyuGEYmp57VtQRPIPRJ2uSEVGNH/NqipHw10vZTqnQ4MbnLeM+cWMmjacJT0bKRpO/Gdafqu+/pGzC54bJQ0V7BGQIzSdib/+dcuU2XxjkzYPKH0hZT+4YFQNtiCyXyfIr4H1pWHSCXlzEQI7yidl3n4p5jZTJjo3FOe2+9bCU5wRlSyeidxsEfTksQ8VUwFjx13pCv0G90P8YRKSsIydw79vuMBgvF3K3zo17B2UnKCgKy/0IeYM75n7VMi6tsXEDolNlsfTx78QgT4yBTM3ExMbxbyZsGpG+IAX8wX/tDSpniejxlm0VuIVaIWqhpMysp8KFOwZkuGLWAXFZLMcJnwxn46vAGx3qJkTVYwlNUlIsY4cKhQYZkaKvrdkDbh3dgIw5+y54vfRrXNNVkXoUoArhUnX4nh0Wy3C0XcAOg2t+2gbOu4RIjuX0yTGFM+I/PvlpzLw5ccphuLka72PZ8ehzdaV5uN8nKbc23KVTMeV8mZQtdBv6Ui+IVz72iAyXYl/tKo8H/mn7uRTE8roY4NOn/4ZRUXeahllmqUipwXKeDEcutbvturpfx3ETcq3a5bdBSwKyE+J2YK2kX2CLtny1Z9V8pvGd0o9PbR9WR0C+/n2Q02jmjSnWNDPIRxYpg9sRtYNLdJ4P1+srzyN/o/usEnLQrezVVwOzW8WyMtTsqPL5c1JkI473mnLFR2/JsduzuZ5NY7UAqYplo6CgcM4aSsDbFV7I1mKQtRZ18jVkNBaHzJyY2QENxeE+HR5IDkgO3WxCfhtSk9NXehzyZ5NYRup6erL1cUV0MssOw9CpwviQJA2v8DAkFM9ODxS5iXOPnbxyZpOUTsUyCqyBjlzjLI/rvzBZjrcYJ7ow/lpRR1/dPQmW5/We6Vd+QJ2e4dz+awc3dJNl9qIJmVqROGS+IMFyqAA6bRyPAI3l7SLIRhbJHQF52pVZxuzFjR+gTDYCMhzaQZAP4nHBd/cXognbBT7AYbWys7ue9JZFZTXWybENbntstzl6CLKmJXVVoqohZgF9Jeoy/VMPjmvCEUp5cZZ/qfb6GTN01C0VyzGW4djhcBGuYpupa+8/TZYV5KQeO31qTOEQy9MTJkxTLpDMssHz9W54JfGqB07ZGCflyJy8GnsJdbvG82eFpBnL6CkMLR68WKcyntxIlg+HvIsSTlz/Crhok5S9BdwA5H5kbM2ETPWatdEvythDLFMvoFOCMYcf/qabkIc3nAnHHkpfKpbVuCmVPo9ZDyVm8JLCc+Jn3pYlcFU0Db2kvCHoBXnEsq+m9fipbdRBXZCLEG+AjLrBHbUvBPbvXtsByNkjWZblwzP2Lkr5cW2rgN958nQtQz/XYWYFE3IveOclDc9L+X38WIAZiuWSftlCvWHt3oC/dS2aYmLZpiAnPSuuEMtDkCenk4J3xqsKbg5qOJGtKKVw+8FIuIySU6Hqku4X8mHch4Mag3pkbPWsiESpM8WAk6KZhmPbRrKc1HBiYwLyDgYRX0R3Can7RahYYzNNyNEq6j946QVZD1NMlgH5vIyWq7JPHVhLRAZgicmy9ebNW7ZsxjiG/64AeTqmM3909NyR9A+ZDffU1KPn4mU6ALD0ssPf3Qew1g5+kSbno4csi16uUreRz90hKZzYQj7b44bNuAWN10l5AXV5BOR7kyCrhjN2vecpA8Kp78Tn72UI/YXtt+bSPnq1s1wh62Ox3IItxWgTep1o8ZW+NVIewKSZviZifGTChAkTqe+6Kc7p4/E8lo5WRPzkY1ardWrMoY+kpqRkxMzoWlB8m6F/4c4Fa9pRiLDTW4H389azNS5XTVi8tOxLADe/6R9YqHO5KnfQlnBr5W083/iGx4/WYkmly5X8zH7wV0M+FPFh2ay9UkYu4Y2g6e5A86JK1x7Zv9K10NWuVi4JrxPdJwry9srKhQ9i5uVKV+UKeky91+JyGBqUvXpZvrXI5XJRlvsPM/AjBAq69N0AAAAASUVORK5CYII%3D"/></a></h2>

  <div style="font-size:small;"><b>Anleitung:</b> Klicken Sie auf den Knopf "Neu starten". Sie können eine Route erstellen, in dem Sie auf die Karte klicken oder eine Adresse der Knotenpunkte eingibst. Das Höhenprofil wird automatisch aktualisiert. Tip: Sie können die Knotenpunkte auch verschieben. Weitere Infos finden Sie in unserem <a href="http://geo.ebp.ch/2010/09/15/gelandeprofile-berechnen-mit-google-maps">Blog</a>.</div>
  <div style="background-color: #C3D9FF; width:100%; margin-top:10px;">
  <table>
  <tr>
     <td style="text-align: left">
       <input type="button" value="Neu starten (alle Knotenpunkte löschen)" onclick="reset()"/>
     </td>
	<td style="text-align: center">Adresse des nächsten Knotenpunktes: <input type="text" id="address" size="35" onkeypress="return addressKeyHandler(event)"/></td>
	<td style="text-align: right">
       Art der Route:
       <select id="mode" onchange="updateElevation()">
		 
         <option value="direct">Luftlinie</option>
         <option value="driving">Autoroute</option>
         <option value="bicycling">Velo</option> 
         <option value="walking">Fussweg</option>
       </select>
     </td>
     <td id="permalink">
       <a href="javascript:createPermalink();">Erstelle Permalink</a>
     </td>
  </tr>
  </table>
  </div>
  <div id="loading" style="display:none;text-align:center;background-color:lightcoral; width:100%; border-top:10px;">
    Einen Moment, bitte. Die Ergebnisse werden geladen.
  </div>
  <div id="map_canvas" style="border: 4px solid #C3D9FF; width:99%; height:500px"></div>
  <div style="border: 4px solid #C3D9FF;width:99%; ">
    <div id="export_div">
     <a id="export_link" href="#" target="_blank" >Export als CSV text (öffnet ein neues Fenster). <span style="font-size:11px;">funktioniert momentan nicht im Internet Explorer</span></a>
    </div>
    <div id="chart_div" style="width:98%; height:300px" onmouseout="clearMouseMarker()">
    </div>
  </div>
  <div id="Hinweise" style="margin-top:10px;font-size:11px;">Diese Website beruht auf einen <a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/elevation/elevation-profile.html">Google Developer Sample</a> und wurde von <a href="http://www.ebp.ch">Ernst Basler + Partner AG</a> angepasst. Die Daten stammen ausschliesslich von Google und liegen unter Ihrem Copyright. Diese HTML-Datei kann abgespeichert werden und lokal genutzt und verändert werden (siehe Hinweise zur Lizenz im Quellcode). Fragen beantworten wir gerne per <a href="mailto:stephan.heuel@ebp.ch">E-Mail</a>.</div>
</body>
</html>
